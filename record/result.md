## PlayMusic
————————————————————————计算在目标领域测试集上实体span的识别指标——————————————————————————
测试集embedding.shape =  (616, 256)
测试集true_labels.shape =  616
测试集predict_labels.shape =  616
测试集示例: 
- Ground Truth：  ['O', 'B-artist', 'I-artist', 'B-music_item', 'O', 'O', 'O', 'B-sort', 'O', 'O']
- Predict Labels:  ['O', 'B-entity', 'I-entity', 'I-entity', 'I-entity', 'O', 'O', 'B-entity', 'O', 'B-entity']

在测试集上的eneity指标(span-metrics):  f:58.56, p:61.63, r:55.79
------------------------------------------------------------------------------------------

span_embeddings =  (172, 256)
vob_clusters_label2id =  {'album': 0, 'playlist': 1, 'O': 2, 'service': 3, 'year': 4, 'artist': 5, 'track': 6, 'sort': 7, 'music_item': 8, 'genre': 9}
__________________________________________________________________________________
model           ACC     MI      RI      AMI     ARI     homo    comp    vmeas
kmenas          0.413   0.865   0.803   0.333   0.207   0.418   0.414   0.416
__________________________________________________________________________________
混淆矩阵的标签 =  ['album', 'playlist', 'O', 'service', 'year', 'artist', 'track', 'sort', 'music_item', 'genre']
混淆矩阵：
 [[ 1  0  0  0  1  1  5  1  1  0]
 [ 0  2  0  0  2  1  0  0  0  0]
 [ 1  0  6  0  2  0  0  2  2  1]
 [ 3  5  1 11  1  2  0  0  0  0]
 [ 3  0  0  0  7  0  6  0  0  0]
 [ 1  0  0  0 17 23  7  0  0  0]
 [ 0  0  0  0  3  0  6  0  0  0]
 [ 0  0  0  3  4  0  2  4  0  0]
 [ 0  0  2  0  3  0  4  0 11  9]
 [ 0  0  0  0  4  1  0  0  0  0]]

 ------------------------------------------------------------------------------------------
              precision    recall  f1-score   support
       album       0.11      0.10      0.11        10
    playlist       0.29      0.40      0.33         5
           O       0.67      0.43      0.52        14
     service       0.79      0.48      0.59        23
        year       0.16      0.44      0.23        16
      artist       0.82      0.48      0.61        48
       track       0.20      0.67      0.31         9
        sort       0.57      0.31      0.40        13
  music_item       0.79      0.38      0.51        29
       genre       0.00      0.00      0.00         5

    accuracy                           0.41       172
   macro avg       0.44      0.37      0.36       172
weighted avg       0.60      0.41      0.46       172
------------------------------------------------------------------------------------------
```
————————————————————————计算目标域上每个槽位Span识别的指标:span_acc ——————————————————————————
目标域'album'共10个实体，识别完全准确的有5个，Span_ACC = 5/10 = 50.0
目标域'playlist'共5个实体，识别完全准确的有5个，Span_ACC = 5/5 = 100.0
目标域'service'共24个实体，识别完全准确的有20个，Span_ACC = 20/24 = 83.33
目标域'year'共24个实体，识别完全准确的有5个，Span_ACC = 5/24 = 20.83
目标域'artist'共54个实体，识别完全准确的有30个，Span_ACC = 30/54 = 55.56
目标域'track'共9个实体，识别完全准确的有7个，Span_ACC = 7/9 = 77.78
目标域'sort'共17个实体，识别完全准确的有8个，Span_ACC = 8/17 = 47.06
目标域'music_item'共42个实体，识别完全准确的有24个，Span_ACC = 24/42 = 57.14
目标域'genre'共5个实体，识别完全准确的有2个，Span_ACC = 2/5 = 40.0
目标域整体实际存在190个实体，检测出了172个实体，其中识别完全准确的有106个，Span_ACC = 106/190 = 55.79
------------------------------------------------------------------------------------------
————————————————————————计算目标域上每个槽位Span识别的指标:token_acc ——————————————————————————
目标域'album'共31个实体token，其中识别准确的有30个(BI之间混淆不惩罚)，'B-album'识别准确的有9个(共有10个), 'I-album'识别准确的有19个(共有21个), Token_ACC = 28/31 = 90.32
目标域'playlist'共12个实体token，其中识别准确的有12个(BI之间混淆不惩罚)，'B-playlist'识别准确的有5个(共有5个), 'I-playlist'识别准确的有7个(共有7个), Token_ACC = 12/12 = 100.0
目标域'service'共29个实体token，其中识别准确的有28个(BI之间混淆不惩罚)，'B-service'识别准确的有23个(共有24个), 'I-service'识别准确的有5个(共有5个), Token_ACC = 28/29 = 96.55
目标域'year'共24个实体token，其中识别准确的有24个(BI之间混淆不惩罚)，'B-year'识别准确的有11个(共有24个), 'I-year'识别准确的有0个(共有0个), Token_ACC = 11/24 = 45.83
目标域'artist'共109个实体token，其中识别准确的有109个(BI之间混淆不惩罚)，'B-artist'识别准确的有45个(共有54个), 'I-artist'识别准确的有55个(共有55个), Token_ACC = 100/109 = 91.74
目标域'track'共30个实体token，其中识别准确的有30个(BI之间混淆不惩罚)，'B-track'识别准确的有8个(共有9个), 'I-track'识别准确的有21个(共有21个), Token_ACC = 29/30 = 96.67
目标域'sort'共20个实体token，其中识别准确的有17个(BI之间混淆不惩罚)，'B-sort'识别准确的有10个(共有17个), 'I-sort'识别准确的有2个(共有3个), Token_ACC = 12/20 = 60.0
目标域'music_item'共47个实体token，其中识别准确的有46个(BI之间混淆不惩罚)，'B-music_item'识别准确的有28个(共有42个), 'I-music_item'识别准确的有4个(共有5个), Token_ACC = 32/47 = 68.09
目标域'genre'共7个实体token，其中识别准确的有7个(BI之间混淆不惩罚)，'B-genre'识别准确的有5个(共有5个), 'I-genre'识别准确的有2个(共有2个), Token_ACC = 7/7 = 100.0
目标域整体实际存在309个实体token，检测出了383个实体token，其中识别准确的有303个(BI之间混淆不惩罚)，Token_ACC = 259/309 = 83.82
------------------------------------------------------------------------------------------
```